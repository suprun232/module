/* ========== Тема (світла + ха́кі) ========== */
:root{
  --bg:#ffffff; --fg:#1a1a1a; --muted:#6b7280;
  --accent-khaki:#8a9a5b; --accent-khaki-600:#6f7d47; --accent-khaki-100:#eef2e0;
  --border:#e5e7eb;

  /* Додаткові кольори станів (контраст + a11y) */
  --ok:#6f7d47;        /* наближений до ха́кі, темніший */
  --warn:#d97706;      /* янтарний для "обмеження" */
  --danger:#b91c1c;    /* темно-червоний для "ремонт" */
  --focus:#1f2937;     /* темний контур фокусу */
  --table-stripe:#fafaf9;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0; font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: var(--bg); color: var(--fg);
}
.container { max-width: 1200px; margin-inline: auto; padding: 1rem; }

.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{ position:static; width:auto; height:auto; display:inline-block; padding:.5rem .75rem; background:var(--accent-khaki-100); border:2px solid var(--accent-khaki); border-radius:.5rem; }

.sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;}

.site-header { border-bottom: 1px solid var(--border); background: #fff; position: sticky; top: 0; z-index: 5; }
.header-inner { display:flex; align-items:center; gap:1rem; justify-content:space-between; }
.header-inner h1 { font-size: clamp(1.1rem, 2.5vw, 1.4rem); margin:0; }

/* Перемикач щільності (лише візуал у v1) */
.density-switch { display:flex; gap:.5rem; margin:0; }
.chip{
  display:inline-flex; align-items:center; gap:.35rem; padding:.4rem .7rem; border:1px solid var(--border);
  border-radius:999px; background:var(--accent-khaki-100); color:var(--fg);
}
.chip--active{ border-color:var(--accent-khaki); outline: 2px solid var(--accent-khaki); }
.chip--khaki{ background:var(--accent-khaki-100); border-color:var(--accent-khaki); }

/* Каркас сторінки */
.main-grid{
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}
@media (min-width: 960px){
  .main-grid{
    grid-template-columns: 2fr 1fr;
    grid-template-areas:
      "filters filters"
      "table   details"
      "map     details";
  }
  .map-card{ grid-area: map; }
}
.card{
  border:1px solid var(--border); border-radius:.75rem; background:#fff; padding:1rem;
}
.footer{ padding-bottom:2rem; color:var(--muted); }

/* Форма фільтрів */
.filters-form{
  display:grid; grid-template-columns: 1fr; gap: .75rem;
}
@media (min-width: 560px){
  .filters-form{ grid-template-columns: 1fr 1fr 1fr; }
}
.form-row{ display:flex; flex-direction:column; gap:.25rem; }
input[type="search"], input[type="text"], select{
  padding:.55rem .6rem; border:1px solid var(--border); border-radius:.5rem; background:#fff;
}
input:focus, select:focus{
  outline:3px solid var(--accent-khaki-100); border-color:var(--accent-khaki);
}

/* Таблиця */
.table-wrap{ overflow:auto; max-height: 480px; border:1px solid var(--border); border-radius:.75rem; }
.data-table{ width:100%; border-collapse: collapse; min-width: 720px; }
.data-table thead th{
  text-align:left; font-weight:600; padding:.7rem .75rem; background: var(--accent-khaki-100);
  position: sticky; top:0; z-index:1; border-bottom:1px solid var(--border);
}
.data-table tbody td, .data-table tbody th{
  padding:.6rem .75rem; border-bottom:1px solid var(--border);
}
.data-table tbody tr:nth-child(odd){ background: var(--table-stripe); }

/* Бейджі/статуси */
.badge{ display:inline-block; padding:.2rem .5rem; border-radius:.5rem; font-size:.85rem; color:#fff; }
.badge--ok{ background: var(--ok); }
.badge--late{ background: var(--warn); }
.badge--cancel{ background: var(--danger); }

/* Схема колій */
.track-map{ width:100%; height:auto; }
.track-ok{ stroke: var(--ok); stroke-width:6; }
.track-warn{ stroke: var(--warn); stroke-width:6; stroke-dasharray:8 6; }
.track-danger{ stroke: var(--danger); stroke-width:6; stroke-dasharray:2 4; }
.stations circle{ fill: #fff; stroke: var(--fg); stroke-width:2; }
.stations text{ font-size:12px; text-anchor:middle; fill: var(--muted); }
.legend text{ font-size:12px; fill: var(--muted); }

/* Доступність: фокус */
:focus-visible{
  outline: 3px dashed var(--focus);
  outline-offset: 2px;
}

/* Щільність (візуальний ефект для демонстрації) */
body.density-compact .data-table td,
body.density-compact .data-table th{ padding:.35rem .5rem; }
